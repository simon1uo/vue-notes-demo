<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <title>12.4-åˆ—è¡¨æ’åº</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>

<body>
<!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨-->
<div id="root">
    <h1>ğŸŒ°12.4-åˆ—è¡¨æ’åº</h1>
    <h2>äººå‘˜åˆ—è¡¨</h2>
    <input type="text" placeholder="è¯·è¾“å…¥åå­—" v-model="keyWord">
    <button @click="sortType = 2">å¹´é¾„å‡åº</button>
    <button @click="sortType = 1">å¹´é¾„é™åº</button>
    <button @click="sortType = 0">åŸé¡ºåº</button>
    <ul>
        <li v-for="(p,index) of filPersons" :key="p.id">
            {{p.name}}-{{p.age}}-{{p.sex}}
        </li>
    </ul>
</div>
</body>
<script type="text/javascript">
    Vue.config.productionTip = false

    new Vue({
        el: '#root',
        data: {
            keyWord: '',
            sortType: 0, //0åŸé¡ºåº 1é™åº 2å‡åº
            persons: [{
                id: '001',
                name: 'é©¬å†¬æ¢…',
                age: 30,
                sex: 'å¥³'
            },
                {
                    id: '002',
                    name: 'å‘¨å†¬é›¨',
                    age: 31,
                    sex: 'å¥³'
                },
                {
                    id: '003',
                    name: 'å‘¨æ°ä¼¦',
                    age: 18,
                    sex: 'ç”·'
                },
                {
                    id: '004',
                    name: 'æ¸©å…†ä¼¦',
                    age: 19,
                    sex: 'ç”·'
                }
            ]
        },
        computed: {
            filPersons() {
                const arr = this.persons.filter((p) => {
                    return p.name.indexOf(this.keyWord) !== -1
                })

                // åˆ¤æ–­æ˜¯å¦æ’åº
                if (this.sortType) {
                    arr.sort((p1, p2) => {
                        return this.sortType === 1 ? p2.age - p1.age : p1.age - p2.age
                    })
                }

                return arr
            }
        }
    })
</script>

</html>